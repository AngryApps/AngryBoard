<add-column class="mb-2" />

@if (columnService.error()) {
  <div class="min-h-full flex justify-center items-center">
    <div class="text-red-500">{{ columnService.error() }}</div>
  </div>
} @else {
  <div
    id="board"
    cdkDropList
    #list="cdkDropList"
    cdkDropListGroup
    [cdkDropListData]="columns()"
    cdkDropListOrientation="horizontal"
    (cdkDropListDropped)="dropColumn($event)"
    class="flex flex-row h-[calc(100vh-15rem)] min-h-[30rem] pb-2 gap-4"
  >
    @for (column of columns(); track column.id) {
      <board-column
        cdkDrag
        (cdkDragStarted)="onDragStart()"
        (cdkDragEnded)="onDragEnd()"
        [cdkDragData]="column"
        [column]="column"
      />
    }
  </div>
}
